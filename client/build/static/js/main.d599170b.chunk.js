(this.webpackJsonpcaestore=this.webpackJsonpcaestore||[]).push([[0],{150:function(e,t,r){},152:function(e,t,r){},333:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),s=r(35),c=r.n(s),o=(r(150),r(36)),i=r(3),l=r.n(i),u=r(11),d=r(5),j=r(4),b=r(7),m=r(8),h=(r(152),r(18)),p=r(1),f=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).state={name:"Pika",students:["Thu","Benny","Chris","Leo","Sean","Sydney"]},console.log("In constuctor!"),e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){console.log("in component Did mount")}},{key:"componentDidUpdate",value:function(){console.log("in component Did update")}},{key:"componentWillUnmount",value:function(){console.log("in component will unmount")}},{key:"render",value:function(){var e=this,t=function(t){e.setState({name:t},(function(){return console.log("State has been changed now")})),console.log("Log the name after i do setState",e.state.name)},r={button:{backgroundColor:"blue",color:"white"},text:{color:"green",backgroundColor:"yellow"}};return Object(p.jsxs)("div",{children:[console.log("in the render"),"Pika"===this.state.name?"Lets play a game ".concat(this.state.name):"Did I scare you ".concat(this.state.name,"?"),Object(p.jsx)("br",{}),Object(p.jsxs)("span",{style:r.text,children:["The name is ",this.state.name]}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{style:r.button,onClick:function(){return t("Boo")},children:'Set Name to "Boo"'}),Object(p.jsx)("button",{style:r.button,onClick:function(){return t("Pika")},children:'Set Name to "Pika"'}),Object(p.jsx)("div",{style:{backgroundColor:"red",color:"green",marginTop:"60px"},children:"Display a new list element for every item in an array"}),Object(p.jsx)("ul",{children:this.state.students.map((function(e,t){return Object(p.jsx)("li",{children:e},t)}))})]})}}]),r}(n.Component),O=r(15),x=r(14),v=r(349),g=O.b().shape({season:O.a().typeError("You must specify a number").integer("Whole Number Please").moreThan(1949,"Enter a year 1950 or later").lessThan(2022,"Enter a year 2021 or before").required("Required"),round:O.a().typeError("You must specify a number").integer("Enter a whole number").min(1,"Round number must be 1-20").max(20,"Round number must be 1-20").required("Required")}),k={season:"",round:""},y=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).handleSubmit=function(t){var r=t.season,n=t.round;fetch("https://ergast.com/api/f1/".concat(r,"/").concat(n,"/driverStandings.json")).then((function(e){return e.json()})).then((function(t){e.setState({racers:t.MRData.StandingsTable.StandingsLists[0].DriverStandings,badRound:!1},(function(){return console.log(e.state.racers)}))})).catch((function(t){e.setState({badRound:!0}),console.error(t)}))},e.state={racers:[],badRound:!1},e}return Object(j.a)(r,[{key:"render",value:function(){var e,t=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Search F1 Racing Results"}),this.state.badRound?Object(p.jsx)("small",{style:{color:"red"},children:"Invalid Year Round Combo"}):"",Object(p.jsx)(x.c,{initialValues:k,validationSchema:g,onSubmit:function(e,r){var n=r.resetForm;t.handleSubmit(e),n(k)},children:function(e){var t=e.errors,r=e.touched;return Object(p.jsxs)(x.b,{children:[Object(p.jsx)("label",{htmlFor:"season",className:"form-label",children:"Season"}),Object(p.jsx)(x.a,{name:"season",className:"form-control"}),t.season&&r.season?Object(p.jsx)("div",{style:{color:"red"},children:t.season}):null,Object(p.jsx)("label",{htmlFor:"round",className:"form-label",children:"Round"}),Object(p.jsx)(x.a,{name:"round",className:"form-control"}),t.round&&r.round?Object(p.jsx)("div",{style:{color:"red"},children:t.round}):null,Object(p.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})}}),(null===(e=this.state.racers)||void 0===e?void 0:e.length)>0?Object(p.jsxs)(v.a,{striped:!0,bordered:!0,hover:!0,children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Position"}),Object(p.jsx)("th",{children:"Points"}),Object(p.jsx)("th",{children:"Wins"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"DOB"}),Object(p.jsx)("th",{children:"Nationality"}),Object(p.jsx)("th",{children:"Constructor"})]})}),Object(p.jsx)("tbody",{children:this.state.racers.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.position}),Object(p.jsx)("td",{children:e.points}),Object(p.jsx)("td",{children:e.wins}),Object(p.jsx)("td",{children:Object(p.jsxs)("a",{target:"_blank",rel:"noreferrer",href:e.Driver.url,children:[e.Driver.givenName," ",e.Driver.familyName]})}),Object(p.jsx)("td",{children:e.Driver.dateOfBirth}),Object(p.jsx)("td",{children:e.Driver.nationality}),Object(p.jsx)("td",{children:Object(p.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.Constructors[0].url,children:e.Constructors[0].name})})]},e.position)}))})]}):""]})}}]),r}(n.Component),S=r(26);function C(){var e=Object(n.useState)("No Student"),t=Object(S.a)(e,2),r=t[0],a=t[1],s=Object(n.useState)(0),c=Object(S.a)(s,2),o=c[0],i=c[1];Object(n.useEffect)((function(){return console.log("We are in the first parameter of useEffect Hook with is like componentDidMount"),function(){console.log("In return of the first param of useEffect ka compnenet did unmount")}})),Object(n.useEffect)((function(){return console.log("inside the hook useEffect for changing Student name"),"kevin"===r&&alert("Hey Kevin you are the coolest"),function(){"kevin"===r&&(a("You are the best"),console.log("Changing the name..."))}}),[r]);var l=function(e,t){var r=Object(n.useState)("white"),a=Object(S.a)(r,2),s=a[0],c=a[1];return Object(n.useEffect)((function(){switch(e){case 0:c("cyan");break;case 1:c("red");break;case 2:c("green");break;case 3:c("blue");break;case 4:c("indigo");break;case 5:c("violet");break;default:return c("gray"),function(){e>=6&&t(0)}}}),[e]),s}(o,i);return Object(p.jsxs)("div",{children:[console.log("in the render"),"the student is: ",r," ",Object(p.jsx)("br",{}),Object(p.jsx)("input",{type:"text",name:"name",onChange:function(e){return a(e.target.value)},placeholder:"Enter Student Name"}),Object(p.jsxs)("div",{style:{backgroundColor:l,hieght:"250px"},children:[Object(p.jsx)("button",{onClick:function(){i(o+1)},children:"Click Me"}),Object(p.jsx)("br",{}),"I have been click ",o," times"]})]})}var w=r(141),I=r(79),E=r(140),N=r.n(E),P=function(e,t){return Object(I.create)({baseURL:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://127.0.0.1:5000":"",headers:{Authorization:"Basic "+N.a.encode(e+":"+t)}})},T=function(){var e=Object(u.a)(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(t,r).get("/api/token");case 2:if(401!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",401);case 5:if(n.ok){e.next=7;break}return e.abrupt("return",500);case 7:if(!n.ok){e.next=9;break}return e.abrupt("return",n.data.token);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),D=O.b().shape({email:O.c().email("Must be a valid e-mail format").required("Required"),password:O.c().required("")}),A={email:"",password:""},F=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).handleSubmit=function(){var t=Object(u.a)(l.a.mark((function t(r){var n,a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.email,a=r.password,t.next=3,T(n,a);case 3:if(401!==(s=t.sent)){t.next=6;break}return t.abrupt("return",e.setState({badLogin:!0,serverError:!1}));case 6:if(500!==s){t.next=8;break}return t.abrupt("return",e.setState({badLogin:!1,serverError:!0}));case 8:localStorage.setItem("token",s),e.props.setToken(s),e.setState({redirect:!0});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={badLogin:!1,serverError:!1,redirect:!1},e}return Object(j.a)(r,[{key:"render",value:function(){var e=this,t={error:{color:"red"}};return Object(p.jsxs)("div",{children:[this.state.redirect?Object(p.jsx)(h.a,{to:{pathname:"/",props:{token:localStorage.getItem("token")}}}):"",Object(p.jsx)(x.c,{initialValues:A,validationSchema:D,onSubmit:function(t){console.log(t),e.handleSubmit(t)},children:function(r){var n=r.errors,a=r.touched;return Object(p.jsxs)(x.b,{children:[Object(p.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(p.jsx)(x.a,{name:"email",className:"form-control"}),n.email&&a.email?Object(p.jsx)("div",{style:t.error,children:n.email}):null,Object(p.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(p.jsx)(x.a,{name:"password",className:"form-control",type:"password"}),n.password&&a.password?Object(p.jsx)("div",{style:t.error,children:n.password}):null,e.state.badLogin?Object(p.jsx)("small",{style:t.error,children:"Invalid Email/Password combo"}):"",e.state.searverError?Object(p.jsx)("small",{style:t.error,children:"Unexpected error please Try again"}):"",Object(p.jsx)("br",{}),Object(p.jsx)(w.a,{type:"submit",children:"Login"})]})}})]})}}]),r}(n.Component),q=r(354),R=r(350),L=r(355),_=r(353),B=r(16),M=r(144),U=r.n(M),Y=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(j.a)(r,[{key:"render",value:function(){return Object(p.jsx)(q.a,{bg:"dark",variant:"dark",style:{marginBottom:"20px"},children:Object(p.jsxs)(R.a,{children:[Object(p.jsx)(q.a.Brand,{href:"/",children:"FakeShop"}),Object(p.jsx)(L.a,{className:"me-auto",children:this.props.token?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(L.a.Link,{as:B.b,to:"/",children:"Home"}),Object(p.jsx)(L.a.Link,{as:B.b,to:"/shop",children:"Shop"}),Object(p.jsx)(L.a.Link,{as:B.b,to:"/page2",children:"Page2"}),Object(p.jsx)(L.a.Link,{as:B.b,to:"/page3",children:"Page3"}),Object(p.jsx)(L.a.Link,{as:B.b,to:"/example",children:"Example"}),Object(p.jsx)(L.a.Link,{as:B.b,to:"/functionalexample",children:"Func Ex"}),Object(p.jsx)(L.a.Link,{as:B.b,to:"/logout",children:"Logout"}),this.props.isAdmin?Object(p.jsxs)(_.a,{title:"Admin Zone",id:"navbarScrollingDropdown",children:[Object(p.jsx)(_.a.Item,{as:B.b,to:"/createcats",children:"Create Category"}),Object(p.jsx)(_.a.Item,{as:B.b,to:"/editcats",children:"Edit Category"}),Object(p.jsx)(_.a.Divider,{}),Object(p.jsx)(_.a.Item,{as:B.b,to:"/createitems",children:"Create Item"}),Object(p.jsx)(_.a.Item,{as:B.b,to:"/edititems",children:"Edit Item"})]}):""]}):Object(p.jsx)(L.a.Link,{as:B.b,to:"/login",children:"Login"})}),Object(p.jsx)("span",{className:"float-end",children:Object(p.jsxs)(B.b,{to:"/cart",style:{color:"white",textDecoration:"none"},children:[Object(p.jsx)(U.a,{}),this.props.getCartItemTotal()," $",this.props.getCartTotalPrice().toFixed(2)]})})]})})}}]),r}(n.Component),J=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).state={user:""},e}return Object(j.a)(r,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:["test: ",this.props.test,"    ",Object(p.jsx)("br",{}),"the user is ",this.props.user,Object(p.jsx)("br",{}),Object(p.jsx)("input",{onChange:function(t){e.setState({user:t.target.value})}}),Object(p.jsx)("button",{onClick:function(){return e.props.setUser(e.state.user)},children:"Submit"})]})}}]),r}(n.Component),V=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(j.a)(r,[{key:"render",value:function(){return Object(p.jsx)("div",{children:this.props.user})}}]),r}(n.Component),W=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(j.a)(r,[{key:"componentDidMount",value:function(){this.props.doLogout()}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:["Goodbye",Object(p.jsx)(h.a,{to:{pathname:"/login"}})]})}}]),r}(n.Component),$=function(e){return Object(I.create)({baseURL:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname?"http://127.0.0.1:5000":"",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})},z="/api/item",G=function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).get("/api/all_items");case 2:if(!(400<=(r=e.sent).status&&r.status<500)){e.next=5;break}return e.abrupt("return",400);case 5:if(!(500<=r.status&&r.status<600)){e.next=7;break}return e.abrupt("return",500);case 7:if(!r.ok){e.next=9;break}return e.abrupt("return",r.data.items);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).get("/api/items_by_category_id",{id:r});case 2:if(!(400<=(n=e.sent).status&&n.status<500)){e.next=5;break}return e.abrupt("return",400);case 5:if(!(500<=n.status&&n.status<600)){e.next=7;break}return e.abrupt("return",500);case 7:if(!n.ok){e.next=9;break}return e.abrupt("return",n.data.items);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),K=function(){var e=Object(u.a)(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).get(z,{id:r});case 2:if(!(400<=(n=e.sent).status&&n.status<500)){e.next=5;break}return e.abrupt("return",400);case 5:if(!(500<=n.status&&n.status<600)){e.next=7;break}return e.abrupt("return",500);case 7:if(!n.ok){e.next=9;break}return e.abrupt("return",n.data);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Q=function(){var e=Object(u.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).post(z,r);case 2:if(!e.sent.ok){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Z=function(){var e=Object(u.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).put(z,r);case 2:if(!e.sent.ok){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),X=function(){var e=Object(u.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).delete(z,{},{data:{id:r}});case 2:if(!e.sent.ok){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ee=r(351),te=r(356);function re(e){return e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")}var ne=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).handleRenderItem=function(){e.setState({clicked:!0})},e.state={clicked:!1},e}return Object(j.a)(r,[{key:"render",value:function(){var e,t,r,n,a=this;return Object(p.jsxs)(ee.a,{children:[this.state.clicked?Object(p.jsx)(h.a,{to:"/item".concat(this.props.item.id)}):"",Object(p.jsxs)(te.a,{style:{width:"150px",marginBottom:"25px"},children:[Object(p.jsx)(te.a.Img,{variant:"top",style:{height:"100px",objectFit:"contain"},alt:this.props.item.name+" image",src:null!==(e=this.props.item.img)&&void 0!==e?e:"https://res.cloudinary.com/cae67/image/upload/v1629310111/fakebook_shop/no-image_nkau78.png"}),Object(p.jsxs)(te.a.Body,{children:[Object(p.jsx)(te.a.Title,{children:null!==(t=re(this.props.item.name))&&void 0!==t?t:"Generic Item"}),Object(p.jsx)(te.a.Text,{style:{height:"100px"},children:null!==(r=this.props.item.description)&&void 0!==r?r:"Sorry No Description"}),Object(p.jsxs)(te.a.Subtitle,{className:"float-end",children:["$",null!==(n=this.props.item.price)&&void 0!==n?n:"?.??"]}),Object(p.jsx)("br",{}),Object(p.jsx)("button",{style:{backgroundColor:"white",border:"none",color:"blue"},onClick:function(){return a.handleRenderItem()},children:"See More"}),Object(p.jsx)(w.a,{variant:"primary",onClick:function(){return a.props.addToCart(a.props.item)},children:"Add to Cart"})]})]})]})}}]),r}(n.Component),ae=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).getSingleItem=Object(u.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(localStorage.getItem("token"),e.props.match.params.id);case 2:400===(r=t.sent)&&e.setState({tokenError:!0}),500===r&&e.setState({serverError:!0}),500!==r&&400!==r&&e.setState({item:r});case 6:case"end":return t.stop()}}),t)}))),e.state={item:!1},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){this.getSingleItem()}},{key:"render",value:function(){return Object(p.jsx)("div",{children:this.state.item?Object(p.jsx)(ne,{item:this.state.item,addToCart:this.props.addToCart}):""})}}]),r}(n.Component),se="/api/category",ce=function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).get(se);case 2:if(!(400<=(r=e.sent).status&&r.status<500)){e.next=5;break}return e.abrupt("return",400);case 5:if(!(500<=r.status&&r.status<600)){e.next=7;break}return e.abrupt("return",500);case 7:if(!r.ok){e.next=9;break}return e.abrupt("return",r.data.categories);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(u.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).post(se,{name:r});case 2:if(!e.sent.ok){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ie=function(){var e=Object(u.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).put(se,r);case 2:if(!e.sent.ok){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),le=function(){var e=Object(u.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).delete(se,{},{data:{id:r}});case 2:if(!e.sent.ok){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),ue=O.b().shape({name:O.c().required("Required")}),de={name:""},je=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).handleSubmit=function(){var t=Object(u.a)(l.a.mark((function t(r){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.name,t.next=3,oe(localStorage.getItem("token"),n);case 3:a=t.sent,console.log(a),a?e.setState({successfulPost:!0,unsuccessfulPost:!1}):e.setState({unsuccessfulPost:!0,successfulPost:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={successfulPost:!1,unsuccessfulPost:!1},e}return Object(j.a)(r,[{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[this.state.successfulPost?Object(p.jsx)("small",{style:{color:"green"},children:"Your Category was Created"}):"",this.state.unsuccessfulPost?Object(p.jsx)("small",{style:{color:"red"},children:"Error Creating Category, Please Try again!"}):"",Object(p.jsx)("br",{}),Object(p.jsx)("h1",{children:"Create Category"}),Object(p.jsx)(x.c,{initialValues:de,validationSchema:ue,onSubmit:function(t){return e.handleSubmit(t)},children:function(e){var t=e.errors,r=e.touched;return Object(p.jsxs)(x.b,{children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label",children:"New Category Name"}),Object(p.jsx)(x.a,{name:"name",className:"form-control"}),t.name&&r.name?Object(p.jsx)("div",{style:{color:"red"},children:t.name}):null,Object(p.jsx)("button",{className:"btn btn-primary form-control",type:"submit",children:"Create Category"})]})}})]})}}]),r}(n.Component),be=O.b().shape({name:O.c().required("Required")}),me=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).getAllCats=Object(u.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(localStorage.getItem("token"));case 2:400===(r=t.sent)&&e.setState({tokenError:!0}),500===r&&e.setState({serverErrorCats:!0}),500!==r&&400!==r&&e.setState({categories:r});case 6:case"end":return t.stop()}}),t)}))),e.handlePullDown=function(t){var r=t.target.value;if(console.log("handlepulldown",r),0!==r){var n=e.state.categories.filter((function(e){return e.id===parseInt(r)}))[0];e.setState({category:n})}},e.handleDelete=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(e.state.category.name,"?"))){t.next=5;break}return t.next=3,le(localStorage.getItem("token"),e.state.category.id);case 3:t.sent?(e.setState({successfulDelete:!0,unsuccessfulDelete:!1,category:{}}),e.getAllCats()):e.setState({successfulDelete:!1,unsuccessfulDelete:!0});case 5:case"end":return t.stop()}}),t)}))),e.handleSubmit=function(){var t=Object(u.a)(l.a.mark((function t(r){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.name,t.next=3,ie(localStorage.getItem("token"),{id:e.state.category.id,name:n});case 3:a=t.sent,console.log(a),a?(e.setState({successfulPost:!0,unsuccessfulPost:!1}),e.getAllCats()):e.setState({unsuccessfulPost:!0,successfulPost:!1});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={serverErrorCats:!1,tokenError:!1,categories:[],successfulDelete:!1,unsuccessfulDelete:!1,successfulPost:!1,unsuccessfulPost:!1,category:{}},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){this.getAllCats()}},{key:"render",value:function(){var e,t,r,n,a,s,c,o,i=this;return Object(p.jsxs)("div",{children:[this.state.successfulPost?Object(p.jsx)("small",{style:{color:"green"},children:"Your Category was Edited"}):"",this.state.unsuccessfulPost?Object(p.jsx)("small",{style:{color:"red"},children:"Error Editing Category, Please Try again!"}):"",this.state.serverErrorCats?Object(p.jsx)("small",{style:{color:"red"},children:"Error Try Again Later"}):"",this.state.tokenError?Object(p.jsx)(h.a,{to:"/login"}):"",Object(p.jsx)("br",{}),Object(p.jsx)("label",{htmlFor:"cats",className:"form-label",children:"Choose Category To Edit"}),Object(p.jsxs)("select",{id:"options",className:"form-select form-select-lg mb-3",name:"cats",onChange:function(e){return i.handlePullDown(e)},children:[Object(p.jsx)("option",{defaultValue:0,label:"--Choose a Category--"}),null===(e=this.state.categories)||void 0===e?void 0:e.map((function(e){return Object(p.jsx)("option",{value:e.id,label:e.name},e.id)}))]}),Object(p.jsx)("br",{}),Object.entries(null!==(t=this.state.category)&&void 0!==t?t:{}).length>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("hr",{}),Object(p.jsxs)("h2",{children:["#",null!==(r=null===(n=this.state.category)||void 0===n?void 0:n.id)&&void 0!==r?r:"000"," - ",null!==(a=null===(s=this.state.category)||void 0===s?void 0:s.name)&&void 0!==a?a:"No Category Name"]}),Object(p.jsx)(w.a,{variant:"danger",onClick:function(){i.handleDelete()},children:"Delete Category"}),Object(p.jsx)("hr",{}),Object(p.jsx)(x.c,{initialValues:{name:null!==(c=null===(o=this.state.category)||void 0===o?void 0:o.name)&&void 0!==c?c:""},enableReinitialize:!0,validationSchema:be,onSubmit:function(e,t){var r=t.resetForm;i.handleSubmit(e),r({name:""})},children:function(e){var t=e.errors,r=e.touched;return Object(p.jsxs)(x.b,{children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label",children:"Category Name"}),Object(p.jsx)(x.a,{name:"name",className:"form-control"}),t.name&&r.name?Object(p.jsx)("div",{style:{color:"red"},children:t.name}):null,Object(p.jsx)("button",{className:"btn btn-primary form-control",type:"submit",children:"Edit Category"})]})}})]}):""]})}}]),r}(n.Component),he=O.b().shape({name:O.c().required("Required"),description:O.c().required("Required"),price:O.c().matches(/^\d+(\.\d{0,2})?$/,"Must be a Valid Price").required("Required"),img:O.c().required("Required"),category_id:O.a().integer().required("Required")}),pe={name:"",description:"",price:"",img:"",category_id:""},fe=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).getAllCats=Object(u.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(localStorage.getItem("token"));case 2:400===(r=t.sent)&&e.setState({tokenError:!0}),500===r&&e.setState({serverErrorCats:!0}),500!==r&&400!==r&&e.setState({categories:r});case 6:case"end":return t.stop()}}),t)}))),e.handleSubmit=function(){var t=Object(u.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Q(localStorage.getItem("token"),r);case 2:n=t.sent,console.log(n),n?e.setState({successfulPost:!0,unsuccessfulPost:!1}):e.setState({unsuccessfulPost:!0,successfulPost:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={tokenError:!1,serverErrorCats:!1,categories:[],successfulPost:!1,unsuccessfulPost:!1},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){this.getAllCats()}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[this.state.successfulPost?Object(p.jsx)("small",{style:{color:"green"},children:"Your Item was Created"}):"",this.state.unsuccessfulPost?Object(p.jsx)("small",{style:{color:"red"},children:"Error Creating Item, Please Try again!"}):"",this.state.serverErrorCats?Object(p.jsx)("small",{style:{color:"red"},children:"Error Try Again Later"}):"",this.state.tokenError?Object(p.jsx)(h.a,{to:"/login"}):"",Object(p.jsx)("br",{}),Object(p.jsx)("h1",{children:"Create Items"}),Object(p.jsx)(x.c,{initialValues:pe,validationSchema:he,onSubmit:function(t){return e.handleSubmit(t)},children:function(t){var r,n=t.errors,a=t.touched;return Object(p.jsxs)(x.b,{children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label",children:"New Item Name"}),Object(p.jsx)(x.a,{name:"name",className:"form-control"}),n.name&&a.name?Object(p.jsx)("div",{style:{color:"red"},children:n.name}):null,Object(p.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(p.jsx)(x.a,{name:"description",className:"form-control"}),n.description&&a.description?Object(p.jsx)("div",{style:{color:"red"},children:n.description}):null,Object(p.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"}),Object(p.jsx)(x.a,{name:"price",className:"form-control"}),n.price&&a.price?Object(p.jsx)("div",{style:{color:"red"},children:n.price}):null,Object(p.jsx)("label",{htmlFor:"img",className:"form-label",children:"Image Url"}),Object(p.jsx)(x.a,{name:"img",className:"form-control"}),n.img&&a.img?Object(p.jsx)("div",{style:{color:"red"},children:n.img}):null,Object(p.jsx)("label",{htmlFor:"category_id",className:"form-label",children:"Category"}),Object(p.jsx)(x.a,{as:"select",name:"category_id",className:"form-select",children:null===(r=e.state.categories)||void 0===r?void 0:r.map((function(e){return Object(p.jsx)("option",{value:e.id,label:e.name},e.id)}))}),n.category_id&&a.category_id?Object(p.jsx)("div",{style:{color:"red"},children:n.category_id}):null,Object(p.jsx)("button",{className:"btn btn-primary form-control",type:"submit",children:"Create Item"})]})}})]})}}]),r}(n.Component),Oe=O.b().shape({name:O.c().required("Required"),description:O.c().required("Required"),price:O.c().matches(/^\d+(\.\d{0,2})?$/,"Must be a Valid Price").required("Required"),img:O.c().required("Required"),category_id:O.a().integer().required("Required")}),xe=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).getAllItems=Object(u.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(localStorage.getItem("token"));case 2:400===(r=t.sent)&&e.setState({tokenError:!0}),500===r&&e.setState({serverErrorItems:!0}),500!==r&&400!==r&&e.setState({items:r,itemStart:0,itemEnd:10});case 6:case"end":return t.stop()}}),t)}))),e.getAllCats=Object(u.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(localStorage.getItem("token"));case 2:400===(r=t.sent)&&e.setState({tokenError:!0}),500===r&&e.setState({serverErrorCats:!0}),500!==r&&400!==r&&e.setState({categories:r});case 6:case"end":return t.stop()}}),t)}))),e.handlePullDown=function(t){var r=t.target.value;if(console.log("handlepulldown",r),0!==r){var n=e.state.items.filter((function(e){return e.id===parseInt(r)}))[0];e.setState({item:n})}},e.handleDelete=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(e.state.item.name,"?"))){t.next=5;break}return t.next=3,X(localStorage.getItem("token"),e.state.item.id);case 3:t.sent?(e.setState({successfulDelete:!0,unsuccessfulDelete:!1,item:{}}),e.getAllItems()):e.setState({successfulDelete:!1,unsuccessfulDelete:!0});case 5:case"end":return t.stop()}}),t)}))),e.handleSubmit=function(){var t=Object(u.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Z(localStorage.getItem("token"),Object(o.a)({id:e.state.item.id},Object.fromEntries(Object.entries(r).map((function(e){return null!==e[1]?[e[0],e[1]]:[e[0],""]})))));case 2:n=t.sent,console.log(n),n?(e.setState({successfulPost:!0,unsuccessfulPost:!1,item:{}}),e.getAllItems()):e.setState({unsuccessfulPost:!0,successfulPost:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={tokenError:!1,serverErrorCats:!1,categories:[],successfulPost:!1,unsuccessfulPost:!1,unsuccessfulDelete:!1,successfulDelete:!1,items:[],item:{}},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){this.getAllCats(),this.getAllItems()}},{key:"render",value:function(){var e,t,r,n,a,s,c,o,i,l,u,d,j,b,m,f,O=this;return Object(p.jsxs)("div",{children:[this.state.successfulPost?Object(p.jsx)("small",{style:{color:"green"},children:"Your Category was Edited"}):"",this.state.unsuccessfulPost?Object(p.jsx)("small",{style:{color:"red"},children:"Error Editing Category, Please Try again!"}):"",this.state.serverErrorCats?Object(p.jsx)("small",{style:{color:"red"},children:"Error Try Again Later"}):"",this.state.tokenError?Object(p.jsx)(h.a,{to:"/login"}):"",Object(p.jsx)("br",{}),Object(p.jsx)("label",{htmlFor:"itemsList",className:"form-label",children:"Choose Item To Edit"}),Object(p.jsxs)("select",{id:"options",className:"form-select form-select-lg mb-3",name:"itemsList",onChange:function(e){return O.handlePullDown(e)},children:[Object(p.jsx)("option",{defaultValue:0,label:"--Choose a item--"}),null===(e=this.state.items)||void 0===e?void 0:e.map((function(e){return Object(p.jsx)("option",{value:e.id,label:e.name},e.id)}))]}),Object(p.jsx)("br",{}),Object.entries(null!==(t=this.state.item)&&void 0!==t?t:{}).length>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("hr",{}),Object(p.jsxs)("h2",{children:["#",null!==(r=null===(n=this.state.item)||void 0===n?void 0:n.id)&&void 0!==r?r:"000"," - ",null!==(a=null===(s=this.state.item)||void 0===s?void 0:s.name)&&void 0!==a?a:"No Item Name"]}),Object(p.jsx)(w.a,{variant:"danger",onClick:function(){O.handleDelete()},children:"Delete Item"}),Object(p.jsx)("hr",{}),Object(p.jsx)(x.c,{initialValues:{name:null!==(c=null===(o=this.state.item)||void 0===o?void 0:o.name)&&void 0!==c?c:"",description:null!==(i=null===(l=this.state.item)||void 0===l?void 0:l.description)&&void 0!==i?i:"",price:null!==(u=null===(d=this.state.item)||void 0===d?void 0:d.price)&&void 0!==u?u:"",img:null!==(j=null===(b=this.state.item)||void 0===b?void 0:b.img)&&void 0!==j?j:"",category_id:null!==(m=null===(f=this.state.item)||void 0===f?void 0:f.category_id)&&void 0!==m?m:""},validationSchema:Oe,onSubmit:function(e,t){var r=t.resetForm;O.handleSubmit(e),r({name:"",description:"",price:"",img:"",category_id:""})},children:function(e){var t,r=e.errors,n=e.touched;return Object(p.jsxs)(x.b,{children:[Object(p.jsx)("label",{htmlFor:"name",className:"form-label",children:"Item Name"}),Object(p.jsx)(x.a,{name:"name",className:"form-control"}),r.name&&n.name?Object(p.jsx)("div",{style:{color:"red"},children:r.name}):null,Object(p.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(p.jsx)(x.a,{name:"description",className:"form-control"}),r.description&&n.description?Object(p.jsx)("div",{style:{color:"red"},children:r.description}):null,Object(p.jsx)("label",{htmlFor:"price",className:"form-label",children:"Price"}),Object(p.jsx)(x.a,{name:"price",className:"form-control"}),r.price&&n.price?Object(p.jsx)("div",{style:{color:"red"},children:r.price}):null,Object(p.jsx)("label",{htmlFor:"img",className:"form-label",children:"Image Url"}),Object(p.jsx)(x.a,{name:"img",className:"form-control"}),r.img&&n.img?Object(p.jsx)("div",{style:{color:"red"},children:r.img}):null,Object(p.jsx)("label",{htmlFor:"category_id",className:"form-label",children:"Category"}),Object(p.jsx)(x.a,{as:"select",name:"category_id",className:"form-select",children:null===(t=O.state.categories)||void 0===t?void 0:t.map((function(e){return Object(p.jsx)("option",{value:e.id,label:e.name},e.id)}))}),r.category_id&&n.category_id?Object(p.jsx)("div",{style:{color:"red"},children:r.category_id}):null,Object(p.jsx)("button",{className:"btn btn-primary form-control",type:"submit",children:"Edit Item"})]})}})]}):""]})}}]),r}(n.Component),ve=0,ge=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(j.a)(r,[{key:"componentDidMount",value:function(){ve=this.props.getCartTotalPrice(),this.props.clearCart()}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:["You have made your payment! Thanks for shopping",Object(p.jsx)("br",{}),"your total was ",ve,Object(p.jsx)("br",{})]})}}]),r}(n.Component),ke=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(j.a)(r,[{key:"render",value:function(){return this.props.token?Object(p.jsx)(h.b,Object(o.a)({},this.props)):Object(p.jsx)(h.a,{to:{pathname:"/login"}})}}]),r}(n.Component),ye=r(352),Se=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).getAllCats=Object(u.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(localStorage.getItem("token"));case 2:400===(r=t.sent)&&e.setState({tokenError:!0}),500===r&&e.setState({serverErrorCats:!0}),500!==r&&400!==r&&e.setState({categories:r});case 6:case"end":return t.stop()}}),t)}))),e.getAllItems=Object(u.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(localStorage.getItem("token"));case 2:400===(r=t.sent)&&e.setState({tokenError:!0}),500===r&&e.setState({serverErrorItems:!0}),500!==r&&400!==r&&e.setState({items:r,itemStart:0,itemEnd:10});case 6:case"end":return t.stop()}}),t)}))),e.handleCat=function(){var t=Object(u.a)(l.a.mark((function t(r){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==r){t.next=4;break}return t.next=3,e.getAllItems();case 3:return t.abrupt("return",t.sent);case 4:return t.next=6,H(localStorage.getItem("token"),r);case 6:400===(n=t.sent)&&e.setState({tokenError:!0}),500===n&&e.setState({serverErrorItems:!0}),500!==n&&400!==n&&e.setState({items:n,itemStart:0,itemEnd:10}),console.log(n);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handlePrev=function(){var t=e.state.itemStart,r=e.state.itemEnd;e.setState({itemStart:t-10,itemEnd:r-10})},e.handleNext=function(){var t=e.state.itemStart,r=e.state.itemEnd;e.setState({itemStart:t+10,itemEnd:r+10})},e.state={categories:[],items:[],serverErrorCats:!1,serverErrorItems:!1,tokenError:!1,itemStart:0,itemEnd:10},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){this.getAllCats(),this.getAllItems()}},{key:"render",value:function(){var e,t=this,r={catButton:{backgroundColor:"white",color:"black",width:"100%",border:"1px solid grey",borderRadius:"15px",marginBottom:"5px"}};return Object(p.jsxs)("div",{children:[this.state.serverErrorCats||this.state.serverErrorItems?Object(p.jsx)("small",{style:{color:"red"},children:"Error Try Again Later"}):"",this.state.tokenError?Object(p.jsx)(h.a,{to:"/login"}):"",Object(p.jsxs)(ye.a,{children:[Object(p.jsxs)(ee.a,{md:3,children:[Object(p.jsx)("center",{children:Object(p.jsx)("h3",{children:"Categories"})}),Object(p.jsx)("hr",{}),Object(p.jsxs)("ul",{style:{listStyleType:"none"},children:[Object(p.jsx)("li",{children:Object(p.jsx)("button",{style:r.catButton,onClick:function(){return t.handleCat(0)},children:"All Items"})}),this.state.categories.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)("button",{style:r.catButton,onClick:function(){return t.handleCat(e.id)},children:re(e.name)})},e.id)}))]})]}),Object(p.jsxs)(ee.a,{md:9,children:[Object(p.jsx)(ye.a,{children:this.state.items.slice(this.state.itemStart,this.state.itemEnd).map((function(e){return Object(p.jsx)(ne,{addToCart:t.props.addToCart,item:e},e.id)}))}),Object(p.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(p.jsx)(w.a,{variant:"danger",className:"me-2 "+(0===this.state.itemStart?"disabled":""),onClick:function(){return t.handlePrev()},children:"<< Prev"}),Object(p.jsx)(w.a,{variant:"success",className:" "+((null===(e=this.state.items)||void 0===e?void 0:e.length)<=this.state.itemEnd?"disabled":""),onClick:function(){return t.handleNext()},children:"Next >>"})]})]})]})]})}}]),r}(n.Component),Ce=function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){return Object(d.a)(this,r),t.apply(this,arguments)}return Object(j.a)(r,[{key:"render",value:function(){return this.props.isAdmin?Object(p.jsx)(ke,Object(o.a)({},this.props)):Object(p.jsx)(h.a,{to:{pathname:"/"}})}}]),r}(n.Component),we=function(){var e=Object(u.a)(l.a.mark((function e(t,r){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).post("/api/create-checkout-session",r);case 2:return n=e.sent,e.abrupt("return",window.location.href=n.data.url);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function Ie(e){var t=Object(n.useState)(""),r=Object(S.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(!1),o=Object(S.a)(c,2),i=o[0],d=o[1];Object(n.useEffect)((function(){var e=new URLSearchParams(window.location.search);e.get("success")&&(s("Order placed! You will receive an email confirmation."),d(!0)),e.get("canceled")&&s("Order canceled -- continue to shop around and checkout when you're ready.")}),[]);var j=function(){var t=Object(u.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,we(localStorage.getItem("token"),{cart:e.cart});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return i?Object(p.jsx)(ge,{message:a,cart:e.cart,getCartTotalPrice:e.getCartTotalPrice,clearCart:e.clearCart}):Object(p.jsx)("div",{children:Object.keys(e.cart).length>0?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(v.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"ID"}),Object(p.jsx)("th",{children:"Image"}),Object(p.jsx)("th",{children:"Name"}),Object(p.jsx)("th",{children:"Description"}),Object(p.jsx)("th",{children:"Price"}),Object(p.jsx)("th",{children:"Quantity"}),Object(p.jsx)("th",{children:"Remove One"}),Object(p.jsx)("th",{children:"Remove All"})]})}),Object(p.jsxs)("tbody",{children:[Object.keys(e.cart).map((function(t){var r,n,a,s,c;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.cart[t].id}),Object(p.jsx)("td",{children:Object(p.jsx)("img",{alt:"The Item",style:{height:"100px",objectFit:"contain"},src:null!==(r=e.cart[t].img)&&void 0!==r?r:"https://res.cloudinary.com/cae67/image/upload/v1629310111/fakebook_shop/no-image_nkau78.png"})}),Object(p.jsx)("td",{children:null!==(n=e.cart[t].name)&&void 0!==n?n:"No name"}),Object(p.jsx)("td",{children:null!==(a=e.cart[t].description)&&void 0!==a?a:"No Description"}),Object(p.jsx)("td",{children:null!==(s=e.cart[t].price.toFixed(2))&&void 0!==s?s:"No Price"}),Object(p.jsx)("td",{children:null!==(c=e.cart[t].quantity)&&void 0!==c?c:"0"}),Object(p.jsx)("td",{children:Object(p.jsx)(w.a,{variant:"danger",onClick:function(){return e.removeFromCart(e.cart[t])},children:"Remove One"})}),Object(p.jsx)("td",{children:Object(p.jsx)(w.a,{variant:"danger",onClick:function(){return e.removeAllFromCart(e.cart[t])},children:"Remove All"})})]},e.cart[t].id)})),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{children:e.getCartTotalPrice().toFixed(2)}),Object(p.jsxs)("td",{children:[e.getCartItemTotal()," "]}),Object(p.jsx)("td",{}),Object(p.jsx)("td",{})]})]})]}),Object(p.jsx)(w.a,{onClick:j,className:"float-end",children:"Check Out"})]}):Object(p.jsx)("h2",{children:"Your Cart is Empty. Please Go shop"})})}var Ee=function(){var e=Object(u.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$(t).get("/api/admin");case 2:if(!(400<=(r=e.sent).status&&r.status<500)){e.next=5;break}return e.abrupt("return",400);case 5:if(!(500<=r.status&&r.status<600)){e.next=7;break}return e.abrupt("return",500);case 7:if(!r.ok){e.next=9;break}return e.abrupt("return",r.data.isAdmin);case 9:return e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=(r(331),function(e){Object(b.a)(r,e);var t=Object(m.a)(r);function r(){var e;return Object(d.a)(this,r),(e=t.call(this)).setUser=function(t){e.setState({user:t},(function(){return console.log("User is",e.state.user)}))},e.setToken=function(t){e.setState({token:t},e.getIsAdmin)},e.getIsAdmin=function(){(function(){var t=Object(u.a)(l.a.mark((function t(){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ee(localStorage.getItem("token"));case 2:500!==(r=t.sent)&&400!==r||(r=!1),e.setState({isAdmin:r});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()},e.doLogout=function(){localStorage.setItem("token",""),e.setToken(""),e.setState({isAdmin:!1})},e.addToCart=function(t){var r=e.state.cart;r[t.name]?r[t.name].quantity++:r[t.name]=Object(o.a)(Object(o.a)({},t),{},{quantity:1}),e.setState({cart:r}),localStorage.setItem("cart",JSON.stringify(r)),alert("Thanks for adding ".concat(t.name," to your cart"))},e.removeFromCart=function(t){var r=e.state.cart;r[t.name].quantity>1?r[t.name].quantity--:1===r[t.name].quantity&&delete r[t.name],e.setState({cart:r}),localStorage.setItem("cart",JSON.stringify(r)),alert("You removed ".concat(t.name," from your cart"))},e.removeAllFromCart=function(t){var r=e.state.cart;r[t.name]&&delete r[t.name],e.setState({cart:r}),localStorage.setItem("cart",JSON.stringify(r)),alert("You Removed all of ".concat(t.name," from your cart"))},e.getCartItemTotal=function(){var e=0;for(var t in JSON.parse(localStorage.getItem("cart")))e+=JSON.parse(localStorage.getItem("cart"))[t].quantity;return e},e.getCartTotalPrice=function(){var e=0;for(var t in JSON.parse(localStorage.getItem("cart")))e+=JSON.parse(localStorage.getItem("cart"))[t].price*JSON.parse(localStorage.getItem("cart"))[t].quantity;return e},e.clearCart=function(){localStorage.removeItem("cart"),e.setState({cart:{}})},e.state={user:"",test:"This is a test",token:"",isAdmin:!1,cart:{}},e}return Object(j.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.state.token&&this.getIsAdmin(),"undefined"!=typeof window&&window.addEventListener("storage",(function(t){e.setState({cart:JSON.parse(localStorage.getItem("cart"))})}))}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{children:[Object(p.jsx)(Y,{getCartItemTotal:this.getCartItemTotal,getCartTotalPrice:this.getCartTotalPrice,token:this.state.token,isAdmin:this.state.isAdmin}),Object(p.jsxs)(h.d,{children:[Object(p.jsx)(ke,{token:this.state.token,exact:!0,path:"/checkoutSuccess",render:function(){return Object(p.jsx)(ge,{clearCart:e.clearCart})}}),Object(p.jsx)(ke,{token:this.state.token,exact:!0,path:"/",render:function(){return Object(p.jsx)(y,{})}}),Object(p.jsx)(ke,{token:this.state.token,exact:!0,path:"/page2",render:function(){return Object(p.jsx)(J,{user:e.state.user,test:e.state.test,setUser:e.setUser})}}),Object(p.jsx)(ke,{token:this.state.token,exact:!0,path:"/page3",render:function(){return Object(p.jsx)(V,{user:e.state.user})}}),Object(p.jsx)(ke,{token:this.state.token,exact:!0,path:"/example",render:function(){return Object(p.jsx)(f,{})}}),Object(p.jsx)(ke,{token:this.state.token,exact:!0,path:"/functionalexample",render:function(){return Object(p.jsx)(C,{})}}),Object(p.jsx)(ke,{token:this.state.token,exact:!0,path:"/logout",render:function(){return Object(p.jsx)(W,{doLogout:e.doLogout})}}),Object(p.jsx)(ke,{token:this.state.token,exact:!0,path:"/shop",render:function(){return Object(p.jsx)(Se,{addToCart:e.addToCart})}}),Object(p.jsx)(ke,{token:this.state.token,exact:!0,path:"/item:id",render:function(t){return Object(p.jsx)(ae,Object(o.a)({addToCart:e.addToCart},t))}}),Object(p.jsx)(ke,{token:this.state.token,exact:!0,path:"/cart",render:function(){return Object(p.jsx)(Ie,{cart:e.state.cart,removeFromCart:e.removeFromCart,removeAllFromCart:e.removeAllFromCart,getCartItemTotal:e.getCartItemTotal,getCartTotalPrice:e.getCartTotalPrice,clearCart:e.clearCart})}}),Object(p.jsx)(Ce,{isAdmin:this.state.isAdmin,token:this.state.token,exact:!0,path:"/createcats",render:function(){return Object(p.jsx)(je,{})}}),Object(p.jsx)(Ce,{isAdmin:this.state.isAdmin,token:this.state.token,exact:!0,path:"/editcats",render:function(){return Object(p.jsx)(me,{})}}),Object(p.jsx)(Ce,{isAdmin:this.state.isAdmin,token:this.state.token,exact:!0,path:"/createitems",render:function(){return Object(p.jsx)(fe,{})}}),Object(p.jsx)(Ce,{isAdmin:this.state.isAdmin,token:this.state.token,exact:!0,path:"/edititems",render:function(){return Object(p.jsx)(xe,{})}}),Object(p.jsx)(h.b,{exact:!0,path:"/login",render:function(){return Object(p.jsx)(F,{setToken:e.setToken})}})]})]})}}]),r}(n.Component));Ne.getDerivedStateFromProps=function(e,t){return{token:localStorage.getItem("token"),cart:localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):{}}};var Pe=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,357)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(B.a,{children:Object(p.jsx)(Ne,{})})}),document.getElementById("root")),Pe()}},[[333,1,2]]]);
//# sourceMappingURL=main.d599170b.chunk.js.map